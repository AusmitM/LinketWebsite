/* Linket theme system ---------------------------------------------------- */

:root {
  /* Core scales */
  --brand-blue: #2563eb;
  --brand-amber: #f59e0b;
  --brand-emerald: #10b981;
  --brand-lilac: #8b5cf6;
  --brand-slate: #1f2937;

  --neutral-25: #f8fafc;
  --neutral-50: #f5f7fb;
  --neutral-100: #e4e8f2;
  --neutral-200: #d7deed;
  --neutral-300: #c1c9db;
  --neutral-400: #9aa3b8;
  --neutral-500: #707993;
  --neutral-700: #3f475d;
  --neutral-900: #101828;

  /* Motion + shadows */
  --shadow-ambient: 0 1px 2px rgba(15, 23, 42, 0.08), 0 16px 40px -24px rgba(15, 23, 42, 0.35);
  --duration-base: 220ms;
  --ease-smooth: cubic-bezier(0.22, 1, 0.36, 1);

  /* Fluid type scale */
  --step--2: clamp(0.72rem, 0.70rem + 0.10vw, 0.78rem);
  --step--1: clamp(0.83rem, 0.80rem + 0.12vw, 0.90rem);
  --step-0: clamp(1.00rem, 0.96rem + 0.20vw, 1.13rem);
  --step-1: clamp(1.25rem, 1.18rem + 0.30vw, 1.50rem);
  --step-2: clamp(1.56rem, 1.46rem + 0.44vw, 1.88rem);
  --step-3: clamp(1.95rem, 1.80rem + 0.60vw, 2.34rem);
  --step-4: clamp(2.44rem, 2.22rem + 0.82vw, 2.93rem);

  /* Default theme mirrors .theme-light */
  --background: #f5f7fb;
  --foreground: #101828;
  --card: #ffffff;
  --card-foreground: #101828;
  --popover: #ffffff;
  --popover-foreground: #101828;
  --primary: var(--brand-blue);
  --primary-foreground: #f5f8ff;
  --secondary: #e0e7ff;
  --secondary-foreground: #1f1b4d;
  --muted: #e6eaf4;
  --muted-foreground: #364152;
  --accent: #c7d2fe;
  --accent-foreground: #1f1b4d;
  --destructive: #ef4444;
  --border: #d7deed;
  --input: #d7deed;
  --ring: var(--brand-blue);

  --sidebar: #ffffff;
  --sidebar-foreground: #101828;
  --sidebar-primary: var(--primary);
  --sidebar-primary-foreground: var(--primary-foreground);
  --sidebar-accent: #eef2ff;
  --sidebar-accent-foreground: #1f2937;
  --sidebar-border: #d7deed;
  --sidebar-ring: var(--ring);
}

.theme-light {
  --background: #f5f7fb;
  --foreground: #101828;
  --card: #ffffff;
  --card-foreground: #101828;
  --popover: #ffffff;
  --popover-foreground: #101828;
  --primary: #2563eb;
  --primary-foreground: #f5f8ff;
  --secondary: #e0e7ff;
  --secondary-foreground: #1f1b4d;
  --muted: #e6eaf4;
  --muted-foreground: #364152;
  --accent: #c7d2fe;
  --accent-foreground: #1f1b4d;
  --destructive: #ef4444;
  --border: #d7deed;
  --input: #d7deed;
  --ring: #2563eb;
  --sidebar: #ffffff;
  --sidebar-foreground: #101828;
  --sidebar-primary: #2563eb;
  --sidebar-primary-foreground: #f5f8ff;
  --sidebar-accent: #eef2ff;
  --sidebar-accent-foreground: #1f2937;
  --sidebar-border: #d7deed;
  --sidebar-ring: #2563eb;
}

.theme-dark {
  --background: #121826;
  --foreground: #f6f8ff;
  --card: rgba(26, 34, 55, 0.94);
  --card-foreground: #f6f8ff;
  --popover: rgba(26, 34, 55, 0.98);
  --popover-foreground: #f6f8ff;
  --primary: #63a8ff;
  --primary-foreground: #0b1220;
  --secondary: #253352;
  --secondary-foreground: #e6eeff;
  --muted: #1c2942;
  --muted-foreground: #cedcff;
  --accent: #31476f;
  --accent-foreground: #f6f8ff;
  --destructive: #f27575;
  --border: #212f4a;
  --input: #212f4a;
  --ring: #63a8ff;
  --sidebar: #111a2b;
  --sidebar-foreground: #f6f8ff;
  --sidebar-primary: #63a8ff;
  --sidebar-primary-foreground: #0b1220;
  --sidebar-accent: #1d2c48;
  --sidebar-accent-foreground: #dce7ff;
  --sidebar-border: #212f4a;
  --sidebar-ring: #63a8ff;
}

.theme-midnight {
  --background: #050414;
  --foreground: #f7f5ff;
  --card: rgba(18, 15, 46, 0.94);
  --card-foreground: #f7f5ff;
  --popover: rgba(18, 15, 46, 0.98);
  --popover-foreground: #f7f5ff;
  --primary: #8d5fff;
  --primary-foreground: #140d2c;
  --secondary: #231b50;
  --secondary-foreground: #ece6ff;
  --muted: #1a1440;
  --muted-foreground: #d4ccff;
  --accent: #352a6b;
  --accent-foreground: #f7f5ff;
  --destructive: #f67882;
  --border: #261f56;
  --input: #261f56;
  --ring: #8d5fff;
  --sidebar: #0c0923;
  --sidebar-foreground: #f7f5ff;
  --sidebar-primary: #8d5fff;
  --sidebar-primary-foreground: #140d2c;
  --sidebar-accent: #20194c;
  --sidebar-accent-foreground: #ebe4ff;
  --sidebar-border: #261f56;
  --sidebar-ring: #8d5fff;
}

.theme-forest {
  --background: #0f2418;
  --foreground: #f0f9f4;
  --card: rgba(18, 42, 30, 0.94);
  --card-foreground: #f0f9f4;
  --popover: rgba(18, 42, 30, 0.97);
  --popover-foreground: #f0f9f4;
  --primary: #38d8a0;
  --primary-foreground: #052e1b;
  --secondary: #1c4d35;
  --secondary-foreground: #ddf8ea;
  --muted: #173a29;
  --muted-foreground: #cdeede;
  --accent: #2f8e60;
  --accent-foreground: #f0f9f4;
  --destructive: #f27474;
  --border: #1c3f2c;
  --input: #1c3f2c;
  --ring: #38d8a0;
  --sidebar: #132f21;
  --sidebar-foreground: #f0f9f4;
  --sidebar-primary: #38d8a0;
  --sidebar-primary-foreground: #052e1b;
  --sidebar-accent: #1f4230;
  --sidebar-accent-foreground: #c5f1df;
  --sidebar-border: #1c3f2c;
  --sidebar-ring: #38d8a0;
}

.theme-gilded {
  --background: #080705;
  --foreground: #faf3e5;
  --card: rgba(20, 17, 13, 0.9);
  --card-foreground: #faf3e5;
  --popover: rgba(20, 17, 13, 0.96);
  --popover-foreground: #faf3e5;
  --primary: #f8d480;
  --primary-foreground: #1d1404;
  --secondary: #2d2316;
  --secondary-foreground: #f8ebd0;
  --muted: #21180b;
  --muted-foreground: #f5e2b9;
  --accent: #d2aa48;
  --accent-foreground: #231505;
  --destructive: #fb7185;
  --border: #342714;
  --input: #342714;
  --ring: #f8d480;
  --sidebar: #120d07;
  --sidebar-foreground: #faf3e5;
  --sidebar-primary: #f8d480;
  --sidebar-primary-foreground: #1d1404;
  --sidebar-accent: #281d0e;
  --sidebar-accent-foreground: #f0dda8;
  --sidebar-border: #362915;
  --sidebar-ring: #f8d480;
}

.theme-silver {
  --background: #f6f8f9;
  --foreground: #1a1f2c;
  --card: rgba(255, 255, 255, 0.96);
  --card-foreground: #1a1f2c;
  --popover: rgba(255, 255, 255, 0.98);
  --popover-foreground: #1a1f2c;
  --primary: #94a3b8;
  --primary-foreground: #0b0f19;
  --secondary: #dce1ea;
  --secondary-foreground: #132034;
  --muted: #e9edf3;
  --muted-foreground: #273246;
  --accent: #dde5fb;
  --accent-foreground: #101826;
  --destructive: #ef4444;
  --border: #ccd3df;
  --input: #ccd3df;
  --ring: #94a3b8;
  --sidebar: #ffffff;
  --sidebar-foreground: #1a1f2c;
  --sidebar-primary: #94a3b8;
  --sidebar-primary-foreground: #0b0f19;
  --sidebar-accent: #e1e6ef;
  --sidebar-accent-foreground: #1f2937;
  --sidebar-border: #ccd3df;
  --sidebar-ring: #94a3b8;
}

.theme-autumn {
  --background: #fff5eb;
  --foreground: #3c2012;
  --card: rgba(255, 255, 255, 0.95);
  --card-foreground: #3c2012;
  --popover: rgba(255, 255, 255, 0.98);
  --popover-foreground: #3c2012;
  --primary: #d97706;
  --primary-foreground: #2b1405;
  --secondary: #f7c88c;
  --secondary-foreground: #4b260e;
  --muted: #f6dcc1;
  --muted-foreground: #4d2410;
  --accent: #f2b173;
  --accent-foreground: #301509;
  --destructive: #ef4444;
  --border: #efcaa6;
  --input: #efcaa6;
  --ring: #d97706;
  --sidebar: #ffe5c5;
  --sidebar-foreground: #3c2012;
  --sidebar-primary: #d97706;
  --sidebar-primary-foreground: #2b1405;
  --sidebar-accent: #ffd3a5;
  --sidebar-accent-foreground: #47240f;
  --sidebar-border: #efcaa6;
  --sidebar-ring: #d97706;
}

/* Typography harmony */
html:where(.typography-smooth) h1 { font-size: var(--step-4); line-height: 1.1; letter-spacing: -0.01em; }
html:where(.typography-smooth) h2 { font-size: var(--step-3); line-height: 1.15; }
html:where(.typography-smooth) h3 { font-size: var(--step-2); line-height: 1.2; }
html:where(.typography-smooth) h4 { font-size: var(--step-1); line-height: 1.25; }
html:where(.typography-smooth) h5 { font-size: var(--step-0); line-height: 1.35; }
html:where(.typography-smooth) h6 { font-size: var(--step--1); line-height: 1.4; }

/* Component polish */
[data-slot=card] { box-shadow: var(--shadow-ambient); }
[data-slot=button] { transition: all var(--duration-base) var(--ease-smooth); }
[data-slot=input] { transition: color var(--duration-base) var(--ease-smooth), box-shadow var(--duration-base) var(--ease-smooth); }


#dashboard-theme-scope::before,
#dashboard-theme-scope::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: -1;
  opacity: 0;
  transition: opacity var(--duration-base) var(--ease-smooth), transform var(--duration-base) var(--ease-smooth);
}

#dashboard-theme-scope::after {
  transform: translateY(8px);
  background: radial-gradient(120% 80% at 50% 0%, rgba(255, 255, 255, 0.18) 0%, transparent 65%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.12) 0%, transparent 45%);
}

#dashboard-theme-scope.theme-forest::before {
  opacity: 0.42;
  background-image: url("/illustrations/forest-canopy.svg"), radial-gradient(120% 120% at 50% 0%, rgba(56, 216, 160, 0.25) 0%, transparent 70%);
  background-size: cover, 140% 100%;
  background-position: center top, center;
}

#dashboard-theme-scope.theme-forest::after {
  opacity: 0.75;
  transform: translateY(0);
  background: radial-gradient(100% 70% at 20% 10%, rgba(34, 197, 94, 0.25) 0%, transparent 70%),
    radial-gradient(100% 80% at 80% 0%, rgba(59, 130, 246, 0.18) 0%, transparent 70%),
    linear-gradient(180deg, rgba(12, 80, 45, 0.5) 0%, transparent 55%);
}
body.theme-forest .dashboard-forest-pin {
  opacity: 1;
  transform: translateY(-2px) rotate(-4deg);
}
